(function(e){function t(t){for(var a,r,o=t[0],u=t[1],c=t[2],l=0,p=[];l<o.length;l++)r=o[l],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&p.push(s[r][0]),s[r]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);d&&d(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,o=1;o<n.length;o++){var u=n[o];0!==s[u]&&(a=!1)}a&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},s={app:0},i=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var d=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"4ec1":function(e,t,n){"use strict";n("cb52")},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("CharacterCreation",{attrs:{name:"CharacterCreation"}})],1)},i=[],r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.isVisible,expression:"isVisible"}],staticClass:"view view--char_creation"},[n("div",{staticClass:"wrapper",attrs:{id:"char_creation"}},[n("div",{staticClass:"char_creation_container"},[n("div",{staticClass:"char_creation_header"},[n("span",{staticClass:"title"},[e._v(" "+e._s(e.gMenuSelected[e.focusedMenuIndex].title)+" ")]),n("span",{staticClass:"subtitle"},[e._v(" "+e._s(e.gMenuSelected[e.focusedMenuIndex].subTitle)+" ")])]),n("div",{staticClass:"char_creation_content"},[n("div",{ref:"scrollDiv",staticClass:"body_char_creation"},[n("div",{class:e.gMenuSelected[e.focusedMenuIndex].title},[n("ul",e._l(e.gMenuSelected[e.focusedMenuIndex].inputs,(function(t,a){return n("li",{key:t,class:{focus:a===e.focusedInputIndex},attrs:{id:"list"},on:{mouseover:function(t){return e.onHoverInput(a)}}},["number"===t.type?n("div",{staticClass:"panel-col",class:{disabled:!0===t.disabled}},[n("div",{staticClass:"qtd"},[n("span",{staticClass:"grey-text title"},[e._v(e._s(t.name)+" ")])]),n("div",{staticClass:"buttons-item"},[n("button",{staticClass:"button-left col s4 waves-effect waves-light btn",on:{click:function(t){return e.clickButtonLeft()}}},[n("i")]),n("span",{staticClass:"input-number col s4"},[e._v(" "+e._s(t.value))]),n("button",{staticClass:"button-right col s4 waves-effect waves-light btn",on:{click:function(t){return e.clickButtonRight()}}},[n("i")])])]):e._e(),"text"===t.type?n("div",{staticClass:"input",class:{disabled:!0===t.disabled},on:{click:function(t){return e.onPressedEnter(a)}}},[n("input",{staticClass:"input-text",attrs:{id:[[t.id]],type:[[t.type]],min:[[t.minValue]],max:[[t.maxValue]],placeholder:[[t.name]]},domProps:{value:[[t.value]]},on:{change:e.changeoptions}})]):e._e(),"button"===t.type?n("div",{staticClass:"input",class:{disabled:!0===t.disabled},on:{click:function(t){return e.onPressedEnter(a)}}},[n("button",{staticClass:"button"},[n("span",[e._v(e._s(t.name))])]),e._m(0,!0)]):e._e()])})),0)])]),n("span",{staticClass:"line-divider-horizontal"},[e._v(e._s(e.subTitleInputSelected))])])])])])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"input-enter"},[n("i")])}],u=(n("4917"),n("96cf"),n("1da1")),c=(n("7f7f"),n("3835")),d=(n("ac6a"),n("ffc1"),{send:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,fetch("".concat(t),{method:"post",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(n)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),emulate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;window.dispatchEvent(new MessageEvent("message",{data:{type:e,data:t}}))}}),l={name:"CharacterCreation",data:function(){return{isVisible:!1,titleMenu:"Criação de Personagem",maxCharacters:2,gMenuSelected:"mainMenu",isMale:!1,characterName:null,ComponentsSaved:{SkinModel:1,SkinToneVariation:1,Head:1,Hair:0,HairColor:1,Mustache:0,MustacheColor:0,Overlay:{},pedScaleSize:180},focusedMenuIndex:0,focusedInputIndex:0,subTitleInputSelected:"Escreva o nome do seu Personagem aqui.",errors:{charName:[],date:[]},Clicked:0}},mounted:function(){var e=this;window.addEventListener("keydown",this.selectMenu),this.listener=window.addEventListener("message",(function(t){var n=t.data;switch(n.type){case"open":e.isVisible=n.isVisible,e.isMale=n.isMale;break;case"close":e.isVisible=n.isVisible;break;case"receivedata":for(var a=0,s=Object.entries(n.uiMenuData);a<s.length;a++){var i=Object(c["a"])(s[a],2),r=i[0],o=i[1];e[r]=null,e[r]=o}var u="mainMenu";e.gMenuSelected=e[u];break;case"ReceiveProfileName":e.isVisible=n.isVisible;var d=e.gMenuSelected[0].inputs;d[0].name=n.profileName,e.characterName=n.profileName,d[1].disabled=!1,d[2].disabled=!1,d[3].disabled=!1,d[4].disabled=!1;break}}),!1)},methods:{selectMenu:function(e){switch(e.keyCode){case 39:this.clickButtonRight();break;case 37:this.clickButtonLeft();break;case 38:var t=this.gMenuSelected[this.focusedMenuIndex].inputs;if("Nome Completo"===t[0].name)return;null===this.focusedInputIndex?this.focusedInputIndex=0:this.focusedInputIndex>0&&this.focusedInputIndex--,this.focusedInputIndex>=5&&(this.$refs.scrollDiv.scrollTop-=55),this.subTitleInputSelected=t[this.focusedInputIndex].subTitle;break;case 40:var n=this.gMenuSelected[this.focusedMenuIndex].inputs;if("Nome Completo"===n[0].name)return;null===this.focusedInputIndex?this.focusedInputIndex=0:this.focusedInputIndex<n.length-1&&this.focusedInputIndex++,this.focusedInputIndex>=5&&(this.$refs.scrollDiv.scrollTop+=55),this.subTitleInputSelected=n[this.focusedInputIndex].subTitle;break;case 13:this.onPressedEnter();break;case 8:this.onPressedBack();break;case 27:this.onPressedBack();break}},onPressedEnter:function(){var e=this.gMenuSelected[this.focusedMenuIndex],t=e.inputs[this.focusedInputIndex];if(this.characterName||"name"==t.sendTo){switch(t.sendTo){case"name":d.send("https://frp_creator/state:Customization:requestTypeProfileName");break;case"creatorMenu":var n="creatorMenu";this.gMenuSelected=this[n];break;case"clothesMenu":var a="clothesMenu";this.gMenuSelected=this[a];break;case"confirm":this.ButtonDone();break}t.focusedMenuIndex&&(this.focusedMenuIndex=t.focusedMenuIndex,this.focusedInputIndex=0)}},onPressedBack:function(){var e=this.gMenuSelected[this.focusedMenuIndex];if(e.return>=0)return this.focusedMenuIndex=e.return,void(this.focusedInputIndex=0);if(e.menuReturn){var t=e.menuReturn;this.gMenuSelected=this[t]}},clickButtonLeft:function(){var e=this.gMenuSelected[this.focusedMenuIndex],t=e.inputs[this.focusedInputIndex],n=t.id,a=t.hashFeacture||0,s=t.steps,i=0,r=0;if(t.value<=t.minValue&&(t.value=t.maxValue+s),.1!=s?t.value-=1:(t.value=parseFloat(t.value)-.1,t.value=t.value.toFixed(1),1==t.value?t.value=1.01:-1==t.value&&(t.value=-1.01)),i=t.value,t.typeOfOverlay){var o=t.typeOfOverlay;this.updateOverlayToPed(n,i,r,o)}else this.updateComponentToPed(n,i,r,a)},clickButtonRight:function(){var e=this.gMenuSelected[this.focusedMenuIndex],t=e.inputs[this.focusedInputIndex],n=t.id,a=t.hashFeacture||0,s=t.steps,i=0,r=0;if(t.value>=t.maxValue&&(t.value=t.minValue-s),.1!=s?t.value+=1:(t.value=parseFloat(t.value)+.1,t.value=t.value.toFixed(1),1==t.value?t.value=1.01:-1==t.value&&(t.value=-1.01)),i=t.value,t.typeOfOverlay){var o=t.typeOfOverlay;this.updateOverlayToPed(n,i,r,o)}else this.updateComponentToPed(n,i,r,a)},updateOverlayToPed:function(e,t,n,a){var s=this.ComponentsSaved.Overlay[e];switch(s||"heads"==e||(this.ComponentsSaved.Overlay[e]={model:0,color:0,opacity:1}),a){case"model":this.ComponentsSaved.Overlay[e].model=t;break;case"color":this.ComponentsSaved.Overlay[e].color=t;break;case"opacity":this.ComponentsSaved.Overlay[e].opacity=t;break}"heads"!=e?d.send("https://frp_creator/state:Customization:OverlayType",{compType:e,offsetModel:this.ComponentsSaved.Overlay[e].model,offsetVariation:this.ComponentsSaved.Overlay[e].color,opacity:this.ComponentsSaved.Overlay[e].opacity,skinTone:this.ComponentsSaved.SkinToneVariation}):d.send("https://frp_creator/state:Customization:OverlayType",{compType:e,offsetModel:0,offsetVariation:0,opacity:0,skinTone:this.ComponentsSaved.SkinToneVariation})},onHoverInput:function(e){this.focusedInputIndex=e;var t=this.gMenuSelected[this.focusedMenuIndex].inputs;this.subTitleInputSelected=t[this.focusedInputIndex].subTitle},updateComponentToPed:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,n,a,s){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=t,e.next="heads"===e.t0?3:"hair"===e.t0?7:"teeth"===e.t0?10:"mustache"===e.t0?13:"hair-color"===e.t0?16:"mustache-color"===e.t0?21:"BODIES_UPPER"===e.t0?26:"skin_tone"===e.t0?28:"eyes"===e.t0?33:36;break;case 3:return this.ComponentsSaved.Head=n,a=this.ComponentsSaved.SkinToneVariation,this.updateOverlayToPed("heads",0,0),e.abrupt("break",36);case 7:return this.ComponentsSaved.Hair=n,a=this.ComponentsSaved.HairColor-1,e.abrupt("break",36);case 10:return a=n,n=1,e.abrupt("break",36);case 13:return this.ComponentsSaved.Mushtache=n,a=this.ComponentsSaved.MustacheColor-1,e.abrupt("break",36);case 16:return this.ComponentsSaved.HairColor=n,t="hair",n=this.ComponentsSaved.Hair,a=this.ComponentsSaved.HairColor-1,e.abrupt("break",36);case 21:return this.ComponentsSaved.MustacheColor=n,t="mustache",n=this.ComponentsSaved.Mushtache,a=this.ComponentsSaved.MustacheColor-1,e.abrupt("break",36);case 26:return a=this.ComponentsSaved.SkinToneVariation,e.abrupt("break",36);case 28:return this.ComponentsSaved.SkinToneVariation=n,d.send("https://frp_creator/state:Customization:ComponentTypeSelected",{compType:"heads",offsetModel:this.ComponentsSaved.Head,offsetVariation:this.ComponentsSaved.SkinToneVariation,faceFeatureIndex:s}),d.send("https://frp_creator/state:Customization:ComponentTypeSelected",{compType:"BODIES_UPPER",offsetModel:this.ComponentsSaved.SkinModel,offsetVariation:this.ComponentsSaved.SkinToneVariation,faceFeatureIndex:s}),this.updateOverlayToPed("heads",0,0),e.abrupt("break",36);case 33:return a=n,n=1,e.abrupt("break",36);case 36:d.send("https://frp_creator/state:Customization:ComponentTypeSelected",{compType:t,offsetModel:n,offsetVariation:a,faceFeatureIndex:s});case 37:case"end":return e.stop()}}),e,this)})));function t(t,n,a,s){return e.apply(this,arguments)}return t}(),clearErrors:function(){this.errors.charName=[],this.errors.date=[]},showError:function(e,t){switch(e){case"charname":this.errors.charName.push(t);break;case"date":this.errors.date.push(t);break}},validateStep:function(){return this.clearErrors(),this.Menu1[0].value.match(this.validation.usernameRegex)?this.Menu1[0].value<18||this.Menu1[0].value>98?(d.send("https://frp_creator/Notification.Simple","Idade Inválida."),!1):void(this.menuStep="Step2"):(d.send("https://frp_creator/Notification.Simple","O nome do personagem não é válido"),this.errors.charName.push(),!1)},changeoptions:function(e){"name"==e.target.id&&(this.Menu1[0].value=e.target.value),"age"==e.target.id&&(this.Menu1[1].value=e.target.value)},SelectStep:function(e){"Step1"===this.menuStep&&this.validateStep()&&0==this.Clicked&&(this.Clicked=1),this.menuStep=e},ButtonClose:function(){d.send("https://frp_creator/CharacterCreation.Cancel")},ButtonDone:function(){var e=this.gMenuSelected[this.focusedMenuIndex],t=e.inputs[1];d.send("https://frp_creator/CharacterCreation.Done",{age:t,overlayArray:this.ComponentsSaved.Overlay})}},beforeDestroy:function(){window.removeEventListener("keydown",this.selectMenu)}},p=l,h=(n("4ec1"),n("2877")),f=Object(h["a"])(p,r,o,!1,null,null,null),v=f.exports,m={name:"app",components:{CharacterCreation:v},data:function(){return{}},destroyed:function(){window.removeEventListener("message",this.listener)},mounted:function(){var e=this;this.listener=window.addEventListener("message",(function(t){var n=t.data||t.detail;e[n.type]&&e[n.type](n)}),!1)},methods:{}},b=m,C=(n("5c0b"),Object(h["a"])(b,s,i,!1,null,null,null)),S=C.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(e){return e(S)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("b6f1")},b6f1:function(e,t,n){},cb52:function(e,t,n){}});
//# sourceMappingURL=app.fcb3a71f.js.map